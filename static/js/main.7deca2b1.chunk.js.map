{"version":3,"sources":["Firebase/config.js","composables/useFetch.jsx","composables/useDocument.jsx","components/personDetails.jsx","components/Card.jsx","components/Create.jsx","components/Navbar.jsx","components/Home.jsx","components/About.jsx","components/App.jsx","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","timestamp","auth","storage","FieldValue","serverTimestamp","useFetch","collection","useState","data","setData","isPending","setIsPending","error","setError","useEffect","orderBy","onSnapshot","snap","results","docs","forEach","doc","createdAt","push","id","err","console","log","message","useDocument","loading","setLoading","add","values","a","deleteDoc","docRef","delete","update","newValues","name","PersonDetails","props","useParams","pname","setPname","className","TextField","variant","size","placeholder","onChange","e","target","value","Button","onClick","to","Card","person","style","display","Create","addName","label","type","color","Navbar","Home","map","About","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7deca2b1.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDjw4aU33bATYcGf_2ByD9Asc23Vbs8Sbo\",\r\n  authDomain: \"react-base-626cd.firebaseapp.com\",\r\n  projectId: \"react-base-626cd\",\r\n  storageBucket: \"react-base-626cd.appspot.com\",\r\n  messagingSenderId: \"979039453640\",\r\n  appId: \"1:979039453640:web:043007dc634265a53e80fd\",\r\n  measurementId: \"G-1NZS1XJBN2\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.firestore();\r\nconst projectAuth = firebase.auth();\r\nconst projectStorage = firebase.storage();\r\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp\r\n\r\nexport { db, projectAuth, projectStorage, timestamp };\r\n","import { useState, useEffect } from \"react\";\r\nimport { db } from \"../Firebase/config\";\r\n\r\nconst useFetch = (collection) => {\r\n  const [data, setData] = useState(null);\r\n  const [isPending, setIsPending] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let collectionRef = db.collection(\"persons\").orderBy('createdAt');\r\n\r\n    collectionRef.onSnapshot(\r\n      (snap) => {\r\n        let results = [];\r\n        snap.docs.forEach((doc) => {\r\n          // must wait for the server to create the timestamp & send it back\r\n          doc.data().createdAt && results.push({ ...doc.data(), id: doc.id });\r\n        });\r\n\r\n        // update values\r\n        setIsPending(false);\r\n        setData(results);\r\n        setError(null);\r\n      },\r\n      (err) => {\r\n        console.log(err.message);\r\n        setData(null);\r\n        setError(\"could not fetch the data\");\r\n      }\r\n    );\r\n  }, [collection]);\r\n\r\n  return { data, isPending, error };\r\n};\r\n\r\nexport default useFetch;\r\n","import { useState } from \"react\";\r\nimport { db } from \"../Firebase/config\";\r\n\r\nconst useDocument = (collection, id) => {\r\n  const [error, setError] = useState(null);\r\n\r\n  const [loading, setLoading] = useState(null);\r\n\r\n  \r\n  const deleteDoc = () => {\r\n    let docRef = db.collection(collection).doc(id);\r\n    try {\r\n      const res = docRef.delete();\r\n      return res;\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  const add = async values => {\r\n    setLoading(true)\r\n\r\n    try {\r\n       db.collection(\"persons\").add(values)\r\n    } catch (err) {\r\n      setError(err.message)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n  \r\n  const update = async (id, newValues) => {\r\n    console.log(id, newValues);\r\n    setLoading(true);\r\n    try {\r\n      db.collection(collection).doc(id).update({ name: newValues });\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return { error, deleteDoc, update, loading, add };\r\n};\r\n\r\nexport default useDocument;\r\n","import { useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport useDocument from \"../composables/useDocument\";\r\nimport useFetch from \"../composables/useFetch\";\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nconst PersonDetails = (props) => {\r\n    const { id } = useParams();\r\n    const { data, error, isPending } = useFetch('http://localhost:3000/person/' + id);\r\n    const [pname, setPname] = useState(props.data)\r\n\r\n    const { deleteDoc, update } = useDocument(\"persons\", id);\r\n\r\n    const handleChange = (e) => {\r\n        setPname(e.target.value);\r\n    };\r\n\r\n    return (\r\n        <div className=\"person-details\">\r\n            {isPending && <div>Loading...</div>}\r\n            {error && <div>{error}</div>}\r\n            {data && (\r\n                <div className=\"person-single\">\r\n                    <h2>Person name: </h2>\r\n                    <TextField variant=\"outlined\" size=\"small\" placeholder={data.name} onChange={handleChange} />\r\n                    <Button variant=\"contained\" onClick={() => { update(id, pname); }}>\r\n                    Edit\r\n                    </Button>\r\n                    <Link to={\"/\"}>\r\n                    <Button variant=\"contained\" onClick={() => {deleteDoc(id);}}>\r\n                    Delete\r\n                    </Button>\r\n                    </Link>\r\n                    <h4>Person ID: '{id}'</h4>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default PersonDetails;","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport useDocument from \"../composables/useDocument\";\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport { Link } from \"react-router-dom\";\r\nimport PersonDetails from \"./personDetails\";\r\n\r\nconst Card = ({ person }) => {\r\n  const [name, setName] = useState(person.name);\r\n\r\n  const { deleteDoc, update } = useDocument(\"persons\", person.id);\r\n\r\n  const handleChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"person-preview\">\r\n      <TextField variant=\"outlined\" size=\"small\" value={name} />\r\n      <Link to={`/person/${person.id}`}>\r\n        <Button variant=\"contained\">Select</Button>\r\n        <div style={{ display: 'none' }}><PersonDetails key={person.id} data={person} /></div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\n/*<Button variant=\"contained\" onClick={() => {deleteDoc(props.data.id);}}>\r\n        Delete\r\n      </Button>\r\n      <Button variant=\"contained\" onClick={() => {update(props.data.id, name);}}>\r\n        Edit\r\n      </Button> */\r\n\r\nexport default Card;\r\n","import React, {useState} from \"react\";\r\nimport useDocument from \"../composables/useDocument\";\r\nimport {timestamp} from \"../Firebase/config\"\r\nimport { Button, TextField } from '@material-ui/core';\r\n\r\nconst Create = () => {\r\n\r\n  const [name, addName] = useState(\"\");\r\n  const {add} = useDocument(\"\")\r\n  \r\n  const handleChange = (e) =>{\r\n   addName(e.target.value);\r\n  }\r\n  \r\n  const handleCreate = () => {\r\n    add({name: name, createdAt: timestamp()})\r\n    addName(\"\")\r\n  }\r\n\r\n  return(\r\n    <div>\r\n    ADD: <TextField label=\"Person name...\" size=\"small\" variant=\"outlined\" type=\"text\" value={name} onChange={handleChange}/> \r\n    <Button variant=\"contained\" color=\"primary\" onClick={()=>{handleCreate()}}>Create</Button>\r\n    </div>\r\n    )\r\n    \r\n  }\r\n  \r\n  export default Create;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n      <nav className=\"navbar\">\r\n        <h3>Person Index</h3>\r\n        <div className=\"links\">\r\n          <Link to=\"/\">Home</Link>\r\n          <Link to=\"/About\">About</Link>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport useFetch from \"../composables/useFetch\";\r\nimport Card from \"./Card\";\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Create from \"./Create\";\r\nimport Navbar from \"./Navbar\";\r\n\r\nconst Home = () => {\r\n\r\n    const { error, isPending, data: person } = useFetch(\"persons\")\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            <h1>Person Index</h1>\r\n            <Create/>\r\n            <br></br>\r\n            { error && <div>{error}</div>}\r\n            { isPending && <div>Loading...</div>}\r\n            { person && person.map((person) => <Card person={person} />)}\r\n        </div>\r\n    )\r\n}\r\n//key={data.id} data={data}\r\nexport default Home;","import React from \"react\";\r\nimport useFetch from \"../composables/useFetch\";\r\nimport Card from \"./Card\";\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Create from \"./Create\";\r\nimport Navbar from \"./Navbar\";\r\n\r\nconst About = () => {\r\nreturn(\r\n    <div>\r\n        <h4>This is an about page containing information about the page</h4>\r\n        <p>\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam semper nulla in vulputate molestie. \r\n            Ut at libero interdum, pellentesque arcu eget, porttitor sem. Vestibulum quis porta tellus. \r\n            Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.\r\n        </p>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default About;","import React from \"react\";\nimport useFetch from \"../composables/useFetch\";\nimport Card from \"./Card\";\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Create from \"./Create\";\nimport Navbar from \"./Navbar\";\nimport Home from \"./Home\";\nimport About from \"./About\";\nimport PersonDetails from \"./personDetails\";\n\n\nconst App = () => {\n  return (\n    <Router>\n      <Navbar />\n      <div className=\"app\">\n        <div className=\"content\">\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route path=\"/create\">\n              <Create />\n            </Route>\n            <Route path=\"/about\">\n              <About />\n            </Route>\n            <Route path=\"/person/:id\">\n              <PersonDetails />\n            </Route>\n          </Switch>\n        </div>\n\n\n\n      </div>\n    </Router>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}